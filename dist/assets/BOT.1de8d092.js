import{E as e,G as a,$ as l,r as t,o,c as d,f as r,k as s,g as n}from"./vendor.e2554b35.js";const i={name:"BOT",data:()=>({formData:{},qrcodeSrc:"",isQrcodeReady:!1,logContent:""}),methods:{submitForm(l){let t=this.formData;e.post("api/setBotConfig",t).then((e=>{a.success("修改成功"),this.isQrcodeReady=!1}))},getLog(){e.get("api/getBotLog",{params:{}}).then((e=>{this.logContent=e.data}))},RestartBOT(){e.get("api/restartBOT",{params:{}}).then((e=>{}))},loadQrcode(){if(!this.isQrcodeReady){let a={};e.get("api/isQrcodeReady",{params:a}).then((e=>{"1"===e.data.respCode&&(this.qrcodeSrc="/api/getQrcode",this.isQrcodeReady=!0)}))}}},mounted(){setInterval((()=>{l("#logContent")[0].scrollTop=l("#logContent")[0].scrollHeight,this.getLog()}),500)}},u={style:{height:"100%"}},c=n("重启BOT"),m=n("   "),p=n("配置"),f=r("div",{class:"grid-content bg-purple"},null,-1),g=r("div",{class:"grid-content bg-purple"},null,-1),h=r("div",{class:"grid-content bg-purple"},null,-1),y=r("br",null,null,-1),b={class:"dialog-footer"},C=n("确 定"),_=n("取 消");i.render=function(e,a,l,n,i,V){const Q=t("el-button"),R=t("el-col"),k=t("el-row"),D=t("el-input"),v=t("el-form-item"),T=t("el-option"),B=t("el-select"),O=t("el-form"),q=t("el-dialog");return o(),d("div",u,[r(k,{gutter:20},{default:s((()=>[r(R,{span:6},{default:s((()=>[r(Q,{type:"primary",onClick:V.RestartBOT},{default:s((()=>[c])),_:1},8,["onClick"]),m,r(Q,{type:"primary",onClick:a[1]||(a[1]=()=>{this.isQrcodeReady=!0})},{default:s((()=>[p])),_:1})])),_:1}),r(R,{span:6},{default:s((()=>[f])),_:1}),r(R,{span:6},{default:s((()=>[g])),_:1}),r(R,{span:6},{default:s((()=>[h])),_:1})])),_:1}),y,r(D,{id:"logContent",modelValue:i.logContent,"onUpdate:modelValue":a[2]||(a[2]=e=>i.logContent=e),type:"textarea",readonly:"readonly",style:{height:"100%",width:"100%"}},null,8,["modelValue"]),r(q,{modelValue:i.isQrcodeReady,"onUpdate:modelValue":a[8]||(a[8]=e=>i.isQrcodeReady=e),width:"30%","close-on-click-modal":!1},{footer:s((()=>[r("span",b,[r(Q,{type:"primary",onClick:a[6]||(a[6]=e=>V.submitForm("formData"))},{default:s((()=>[C])),_:1}),r(Q,{onClick:a[7]||(a[7]=e=>i.isQrcodeReady=!1)},{default:s((()=>[_])),_:1})])])),default:s((()=>[r(O,{ref:"formData",model:i.formData},{default:s((()=>[r(v,{label:" 群号 ",class:"center"},{default:s((()=>[r(D,{class:"handle-space",placeholder:"群号",modelValue:i.formData.qunNumber,"onUpdate:modelValue":a[3]||(a[3]=e=>i.formData.qunNumber=e),onInput:a[4]||(a[4]=()=>{})},null,8,["modelValue"])])),_:1}),r(v,{label:"是否开启抽奖公告",class:"center"},{default:s((()=>[r(B,{modelValue:i.formData.lottery,"onUpdate:modelValue":a[5]||(a[5]=e=>i.formData.lottery=e),placeholder:"是否开启抽奖公告",class:"handle-space"},{default:s((()=>[r(T,{key:"True",label:"开启",value:"True"}),r(T,{key:"False",label:"关闭",value:"False"})])),_:1},8,["modelValue"])])),_:1})])),_:1},8,["model"])])),_:1},8,["modelValue"])])};export default i;
