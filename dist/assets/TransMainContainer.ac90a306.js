import{_ as e}from"./AlertCommon.4f7b6b08.js";import{p as a,a as t,A as s,o as i,c as l,f as r,t as o,l as n,w as d,B as c,$ as p,r as h,F as m,i as u,C as y,D as g,E as v,G as f,H as b,g as w}from"./vendor.e2554b35.js";import{_ as k}from"./ShopMenuItem.df78e5c3.js";const x={name:"MyHeader",mounted(){console.log(s().appContext.config),s().appContext.config.globalProperties.loadUserInfo()}},q=d();a("data-v-cf8c0f58");const I=c('<div class="game-head" data-v-cf8c0f58></div><span class="title" data-v-cf8c0f58>七日杀 - 积分交易商城 2022</span><div class="seting" data-v-cf8c0f58><div class="set" title="设置" data-v-cf8c0f58></div><div class="skin" title="皮肤" data-v-cf8c0f58></div><div class="mail" title="邮件" data-v-cf8c0f58></div></div>',3),C={class:"Diamond"},P=r("i",null,null,-1),S={key:0},T={class:"Point"},A=r("i",null,null,-1),M={key:0};t();const N=q(((e,a,t,s,d,c)=>(i(),l("header",null,[I,r("div",C,[P,e.$store.state.playerinfo?(i(),l("span",S,o(e.$store.state.playerinfo.credit),1)):n("",!0)]),r("div",T,[A,e.$store.state.playerinfo?(i(),l("span",M,o(e.$store.state.playerinfo.money),1)):n("",!0)])]))));x.render=N,x.__scopeId="data-v-cf8c0f58";const _={components:{"shop-mune-item":k},name:"ShopMeuu",props:["class1","class2","itemMenu"],data:()=>({}),methods:{ready(){const e=s().appContext.config.globalProperties.$bus;p(".Trade-ware>div>ul").click((function(){p(".Trade-ware>div>ul").css({transform:"scale(1)",opacity:"0.8","border-radius":"1rem",margin:"0.5em auto"}),p(this).css({transform:"scale(1.1)",opacity:"1","border-radius":"0.1rem",margin:"0.8em auto"}),p(".player-order").hide();var e=p(this).data("click"),a=p(this).attr("class").split("-")[1];console.log(e,a),"false"==e||null==e?(p(".Trade-ware>div>li").slideUp(100),p(".Trade-ware>div>li[class^='b"+a+"']").slideDown(200),p(".Trade-ware>div>ul").data("click","false"),p(this).data("click","true")):"true"!=e&&1!=e||(p(".Trade-ware>div>li").slideUp(100),p(this).data("click","false"))})),p(".Trade-ware>div>ul").hover((function(){"true"!=p(this).data("click")&&p(this).css({transform:"scale(1.05)",opacity:"0.9"})}),(function(){"true"!=p(this).data("click")&&p(this).css({transform:"scale(1)",opacity:"0.8"})}));var a=[["rgb(254, 227, 171), rgba(254, 208, 171, 0.2)"],["rgb(186, 231, 206), rgba(255, 255, 255, 0.2)"],["rgb(232, 206, 185), rgba(255, 255, 255, 0.2)"],["rgb(255, 200, 200), rgba(255, 255, 255, 0.2)"],["rgb(200, 200, 255), rgba(255, 255, 255, 0.2)"],["rgb(255, 160, 160), rgba(255, 255, 255, 0.2)"]];p(".Trade-ware>div>li").click((function(){p(".head-tool .name-id").val(""),p(".items-details").hide(),p(".items-box,.head-tool").show();var t=p(this).attr("class").split("")[1];p(".Trade-ware>div>li[class^='b"+t+"']").css({background:"none","box-shadow":"none"}),p(this).css({background:"radial-gradient("+a[t-1]+")","box-shadow":"0 0 0.1rem white"}),p(".Trade-ware>div>li").data("click","false"),p(this).data("click","true"),e.emit("setclass2",p(this).attr("data")),console.log("值为:"+p(this).attr("data"))})),p(".Trade-ware>div>.btn-1").click((function(){p(".my-shop").show(),p(".player-store,.player-com,.buying").hide(),p(".my-shop>header>.back").hide(),p(".head-tool,.head-tool>.serch,.head-tool>.sort,.head-tool>.refresh,.head-tool>.back").hide(),p(".my-shop>section>nav>.sell").click(),p(".my-shop>header>.right,.my-shop>header>.edit").css("float","right"),e.emit("setclass1","我的店铺")})),p(".Trade-ware>div>.btn-2").click((function(){p(".player-store").show(),p(".my-shop,.player-com,.buying").hide(),p(".head-tool").show(),p(".head-tool>h1").text("玩家店铺"),p(".head-tool>.serch").show(),p(".head-tool>.serch>input").attr("placeholder","请输入玩家或店铺名称"),p(".head-tool>.serch>input").val(""),p(".head-tool>.sort").show(),p(".head-tool>.sort").find(".s-page").text("默认排序"),p(".head-tool>.sort").find(".t1").text("默认排序"),p(".head-tool>.sort").find(".t2").text("等级高到低"),p(".head-tool>.sort").find(".t3").text("积分高到低"),p(".head-tool>.sort").find(".t4").show().text("获赞高到低"),p(".head-tool>.sort").find(".t5").show().text("销售额高到低"),p(".head-tool>.refresh").show(),p(".head-tool>.back").hide(),p(".my-shop>header>.right,.my-shop>header>.edit").css("float","left"),e.emit("setclass1","玩家店铺")})),p(".Trade-ware>div>.btn-3").click((function(){p(".player-com").show(),p(".player-store,.my-shop,.buying").hide(),p(".head-tool").show(),p(".head-tool>h1").text("玩家售卖区"),p(".head-tool>.serch").show(),p(".head-tool>.serch>input").attr("placeholder","请输入物品名称或ID"),p(".head-tool>.serch>input").val(""),p(".head-tool>.sort").show(),p(".head-tool>.sort").find(".s-page").text("默认排序"),p(".head-tool>.sort").find(".t1").text("默认排序"),p(".head-tool>.sort").find(".t2").text("价格高到低"),p(".head-tool>.sort").find(".t3").text("价格低到高"),p(".head-tool>.sort").find(".t4").hide(),p(".head-tool>.sort").find(".t5").hide(),p(".head-tool>.refresh").hide(),p(".head-tool>.back").hide(),p(".player-com>.empty").hide(),e.emit("setclass1","玩家售卖区")})),p(".Trade-ware>div>.btn-4").click((function(){p(".player-com").show(),p(".player-store,.my-shop,.buying").hide(),p(".head-tool").show(),p(".head-tool>h1").text("玩家求购区"),p(".head-tool>.serch").show(),p(".head-tool>.serch>input").attr("placeholder","请输入物品名称或ID"),p(".head-tool>.serch>input").val(""),p(".head-tool>.sort").show(),p(".head-tool>.sort").find(".s-page").text("默认排序"),p(".head-tool>.sort").find(".t1").text("默认排序"),p(".head-tool>.sort").find(".t2").text("价格高到低"),p(".head-tool>.sort").find(".t3").text("价格低到高"),p(".head-tool>.sort").find(".t4").hide(),p(".head-tool>.sort").find(".t5").hide(),p(".head-tool>.refresh").hide(),p(".head-tool>.back").hide(),p(".player-com>.empty").hide(),e.emit("setclass1","玩家求购区")})),p(".Trade-ware>div>.btn-5").click((function(){p(".head-tool").show(),p(".head-tool>h1").text("物资求购"),p(".head-tool>.serch").show(),p(".head-tool>.serch>input").attr("placeholder","请输入物品名称或ID"),p(".head-tool>.serch>input").val(""),p(".head-tool>.sort").show(),p(".head-tool>.sort").find(".s-page").text("所有物品"),p(".head-tool>.sort").find(".t1").text("所有物品"),p(".head-tool>.sort").find(".t2").text("物块模型"),p(".head-tool>.sort").find(".t3").text("物品资源"),p(".head-tool>.sort").find(".t4").hide(),p(".head-tool>.sort").find(".t5").hide(),p(".head-tool>.refresh").show(),p(".my-shop,.player-store,.player-com").hide(),p(".buying").show(),p(".buying .empty").hide(),e.emit("setclass1","物资求购")}))},changeColor(e){1==e&&(p(".items-box>.items").css("background-image","url(images/card/yellow.jpg)"),p(".items-box>.items>section").css("background","linear-gradient(90deg, rgba(255, 229, 168, 0.5), rgba(254, 234, 188, 0.7))")),2==e&&(p(".items-box>.items").css("background-image","url(images/card/green.jpg)"),p(".items-box>.items>section").css("background","linear-gradient(90deg, rgba(144, 238, 144, 0.5), rgba(187, 244, 187, 0.7))")),3==e&&(p(".items-box>.items").css("background-image","url(images/card/beige.jpg)"),p(".items-box>.items>section").css("background","linear-gradient(90deg, rgba(250, 250, 210, 0.5), rgba(245, 245, 220, 0.7))")),4==e&&(p(".items-box>.items").css("background-image","url(images/card/pink.jpg)"),p(".items-box>.items>section").css("background","linear-gradient(90deg, rgba(253, 208, 211, 0.5), rgba(253, 213, 216, 0.7))")),5==e&&(p(".items-box>.items").css("background-image","url(images/card/purple.jpg)"),p(".items-box>.items>section").css("background","linear-gradient(90deg, rgba(237, 184, 254, 0.5), rgba(247, 209, 254, 0.7))")),6==e&&(p(".items-box>.items").css("background-image","url(images/card/red.jpg)"),p(".items-box>.items>section").css("background","linear-gradient(90deg, rgba(253, 208, 211, 0.5), rgba(253, 213, 216, 0.7))"))},lastView(e,a){for(var t=0;t<p(".Category>div>ul").length;t++){var s=p(".Category>div>ul").eq(t).find("div").text(),i=p(".Category>div>ul").eq(t).attr("class").split("-")[1];if(s==e)for(var l=0;l<p(".Category>div>li[class^=b"+i+"]").length;l++){var r=p(".Category>div>li[class^=b"+i+"]").eq(l).text();r==a&&"全部"!=r&&p(".Category>div>li[class^=b"+i+"]").eq(l).click()}}}},mounted(){this.ready(),p(".Trade-ware .btn-1 div").click(),console.log(p(".Trade-ware>.btn-1>div"))}},O=d();a("data-v-f57fb172");const V={class:"Trade-ware"},j=r("div",{class:"title"},"༺ཌ 交易中心 ད༻",-1);t();const B=O(((e,a,t,s,r,o)=>{const n=h("shop-mune-item");return i(),l("nav",V,[j,(i(!0),l(m,null,u(t.itemMenu,((e,a)=>(i(),l(n,{menuitem:e.items,menuindex:a,menucategory:e.category,key:e.category},null,8,["menuitem","menuindex","menucategory"])))),128))])}));_.render=B,_.__scopeId="data-v-f57fb172";const L={name:"TransPstoreCard",props:["item"],methods:{getIcon(e){},deleteBBcode:e=>e.replace(/([\\[][0-9a-fA-F]{6}[\]])/g,""),calcColor(e){var a="";return 1*e>=1&&(1*e==1&&(a="rgb(157, 138, 106)"),1*e==2&&(a="rgb(208, 129, 43)"),1*e==3&&(a="rgb(163, 165, 28)"),1*e==4&&(a="rgb(69, 195, 54)"),1*e==5&&(a="rgb(51, 96, 207)"),1*e==6&&(a="rgb(165, 44, 205)")),a}}},R=d();a("data-v-09944ae5");const $={class:"image"},D={class:"content"},U={class:"price"},H=r("i",null,null,-1),z={class:"num"},Q={class:"name"};t();const F=R(((e,a,t,s,n,d)=>(i(),l("li",{"data-itemid":t.item.id},[r("div",$,[r("img",{src:"404",onError:a[1]||(a[1]=a=>e.$LoadTintImage(a.target,t.item.itemicon,t.item.itemtint))},null,32),y(r("div",{class:"quality",style:{background:d.calcColor(t.item.quality)}},[r("span",null,o(t.item.quality),1)],4),[[g,1*t.item.quality>0]])]),r("div",D,[r("div",U,[H,r("span",null,o(Math.floor(t.item.price)),1)]),r("div",z,"库存："+o(t.item.stock),1),r("div",Q,o(e.HandleItemName(null===t.item.translate||""===t.item.translate?t.item.couCurrType:t.item.translate)),1)])],8,["data-itemid"]))));L.render=F,L.__scopeId="data-v-09944ae5";const E={name:"TransPstoreCard",props:["item"],methods:{deleteBBcode:e=>e.replace(/([\\[][0-9a-fA-F]{6}[\]])/g,""),calcColor(e){var a="";return 1*e>=1&&(1*e==1&&(a="rgb(157, 138, 106)"),1*e==2&&(a="rgb(208, 129, 43)"),1*e==3&&(a="rgb(163, 165, 28)"),1*e==4&&(a="rgb(69, 195, 54)"),1*e==5&&(a="rgb(51, 96, 207)"),1*e==6&&(a="rgb(165, 44, 205)")),a}}},W=d();a("data-v-6ca95050");const G={class:"image"},J={class:"content"},Y={class:"price"},K=r("i",null,null,-1),X={class:"num"},Z={class:"name"};t();const ee=W(((e,a,t,s,n,d)=>(i(),l("li",{"data-itemid":t.item.id,style:{"background-image":"url('images/card/pink.jpg')"}},[r("div",G,[r("img",{src:"404",onError:a[1]||(a[1]=a=>e.$LoadTintImage(a.target,t.item.Itemicon,t.item.Itemicontint))},null,32),y(r("div",{class:"quality",style:{background:d.calcColor(t.item.Itemquality)}},[r("span",null,o(t.item.Itemquality),1)],4),[[g,1*t.item.Itemquality>0]])]),r("div",J,[r("div",Y,[K,r("span",null,o(Math.floor(t.item.Price)),1)]),r("div",X,"需求："+o(t.item.Itemcount),1),r("div",Z,o(e.HandleItemName(t.item.Itemchinese)),1)])],8,["data-itemid"]))));E.render=ee,E.__scopeId="data-v-6ca95050";const ae={name:"TransPStoreList",props:["item","index"],methods:{deleteBBcode:e=>e.replace(/([\\[][0-9a-fA-F]{6}[\]])/g,""),calcColor(e){var a="";return 1*e>=1&&(1*e==1&&(a="rgb(157, 138, 106)"),1*e==2&&(a="rgb(208, 129, 43)"),1*e==3&&(a="rgb(163, 165, 28)"),1*e==4&&(a="rgb(69, 195, 54)"),1*e==5&&(a="rgb(51, 96, 207)"),1*e==6&&(a="rgb(165, 44, 205)")),a}}},te=d();a("data-v-616e3f4d");const se={class:"num"},ie={class:"name"},le={class:"shop-name"},re={class:"vip"},oe={class:"owner"},ne={class:"level"},de={class:"sales"},ce=r("i",null,null,-1),pe={class:"praised"},he={key:1,style:{color:"orangered"}},me={key:2},ue={key:3};t();const ye=te(((e,a,t,s,d,c)=>(i(),l("li",{"data-gameentityid":t.item.gameentityid},[r("div",se,o(t.index+1),1),r("div",{class:"head",ref:"head",id:"avatar"+t.index,style:{"background-image":`url(api/image/${t.item.avatar}),url('/images/player/head1.jfif')`}},null,12,["id"]),r("div",ie,[r("div",le,o(t.item.shopname),1),y(r("div",re,null,512),[[g,1*t.item.vipdiscount>0]]),r("div",oe,"店主："+o(t.item.name),1),r("div",ne,"lv."+o(t.item.level),1)]),r("div",de,[ce,r("span",null,o(Math.floor(t.item.trade_money)),1)]),r("div",pe,[1*t.item.password>=1?(i(),l("i",{key:0,style:"background-image: url('images/icon/zan2.png');"},null,4)):n("",!0),1*t.item.password>=1?(i(),l("span",he,o(t.item.likecount),1)):n("",!0),1*t.item.password==0?(i(),l("i",me)):n("",!0),1*t.item.password==0?(i(),l("span",ue,o(t.item.likecount),1)):n("",!0)])],8,["data-gameentityid"]))));ae.render=ye,ae.__scopeId="data-v-616e3f4d";const ge={name:"TransPstoreCard",props:["item"],data:()=>({currentViewPlayer:{}}),methods:{deleteBBcode:e=>e.replace(/([\\[][0-9a-fA-F]{6}[\]])/g,""),calcColor(e){var a="";return 1*e>=1&&(1*e==1&&(a="rgb(157, 138, 106)"),1*e==2&&(a="rgb(208, 129, 43)"),1*e==3&&(a="rgb(163, 165, 28)"),1*e==4&&(a="rgb(69, 195, 54)"),1*e==5&&(a="rgb(51, 96, 207)"),1*e==6&&(a="rgb(165, 44, 205)")),a}},mounted(){let e={id:this.item.gameentityid+""};v.post("api/getUserInfo",e).then((e=>{"1"===e.data.respCode&&(this.currentViewPlayer=e.data.data)}))}},ve=d();a("data-v-5d44ab58");const fe={class:"image",style:{position:"relative"}},be={class:"content"},we={class:"price"},ke=r("i",null,null,-1),xe={class:"num"},qe={class:"name"},Ie={class:"shop",title:"进入商店"};t();const Ce=ve(((e,a,t,s,n,d)=>(i(),l("li",{"data-itemid":t.item.gameentityid,"data-itemid2":t.item.id},[r("div",fe,[r("img",{src:"404",onError:a[1]||(a[1]=a=>e.$LoadTintImage(a.target,t.item.itemicon,t.item.itemtint))},null,32),y(r("div",{class:"quality",style:{background:d.calcColor(t.item.quality)}},[r("span",null,o(t.item.quality),1)],4),[[g,1*t.item.quality>0]])]),r("div",be,[r("div",we,[ke,r("span",null,o(t.item.price),1)]),r("div",xe,"库存："+o(t.item.stock),1),r("div",qe,o(e.HandleItemName(null===t.item.translate||""===t.item.translate?t.item.couCurrType:t.item.translate)),1),r("div",Ie,[r("i",{style:{"background-image":`url(api/image/${n.currentViewPlayer.avatar}),url('/images/player/head1.jfif')`}},null,4),r("span",null,o(n.currentViewPlayer.name),1)])])],8,["data-itemid","data-itemid2"]))));ge.render=Ce,ge.__scopeId="data-v-5d44ab58";const Pe={name:"TransPstoreCard",props:["item"],data:()=>({currentViewPlayer:{}}),methods:{deleteBBcode:e=>e.replace(/([\\[][0-9a-fA-F]{6}[\]])/g,""),calcColor(e){var a="";return 1*e>=1&&(1*e==1&&(a="rgb(157, 138, 106)"),1*e==2&&(a="rgb(208, 129, 43)"),1*e==3&&(a="rgb(163, 165, 28)"),1*e==4&&(a="rgb(69, 195, 54)"),1*e==5&&(a="rgb(51, 96, 207)"),1*e==6&&(a="rgb(165, 44, 205)")),a}},mounted(){let e={id:this.item.gameentityid+""};v.post("api/getUserInfo",e).then((e=>{"1"===e.data.respCode&&(this.currentViewPlayer=e.data.data)}))}},Se=d();a("data-v-6c6ab322");const Te={class:"image",style:{position:"relative"}},Ae={class:"content"},Me={class:"price"},Ne=r("i",null,null,-1),_e={class:"num"},Oe={class:"name"},Ve={class:"shop",title:"进入商店"};t();const je=Se(((e,a,t,s,n,d)=>(i(),l("li",{"data-itemid":t.item.gameentityid,"data-itemid2":t.item.id,style:{"background-image":"url('images/card/pink.jpg')"}},[r("div",Te,[r("img",{src:"404",onError:a[1]||(a[1]=a=>e.$LoadTintImage(a.target,t.item.Itemicon,t.item.Itemicontint))},null,32),y(r("div",{class:"quality",style:{background:d.calcColor(t.item.Itemquality)}},[r("span",null,o(t.item.Itemquality),1)],4),[[g,1*t.item.Itemquality>0]])]),r("div",Ae,[r("div",Me,[Ne,r("span",null,o(t.item.Price),1)]),r("div",_e,"需求："+o(t.item.Itemcount),1),r("div",Oe,o(e.HandleItemName(t.item.Itemchinese)),1),r("div",Ve,[r("i",{style:{"background-image":`url(api/image/${n.currentViewPlayer.avatar}),url('/images/player/head1.jfif')`}},null,4),r("span",null,o(n.currentViewPlayer.name),1)])])],8,["data-itemid","data-itemid2"]))));Pe.render=je,Pe.__scopeId="data-v-6c6ab322";var Be="images/ItemIcons/decoPumpkinJackOLantern.png";const Le={components:{TransPstoreCard:L,TransRequireCard:E,TransPStoreList:ae,TransPStoreItem:ge,TransPRequireItem:Pe},watch:{class1:{handler(e,a){this.keyword="",e!=a&&(console.log("监听到变化"+e),"物资求购"==e&&this.GenerateBuyingItems(),"我的店铺"==e&&(this.playerid=this.$store.state.playerinfo.gameentityid,this.queryPlayerOnSell(this.playerid),this.queryPlayerRequireItems(this.playerid),this.initUserData(this.playerid),p(".my-shop").data("index",this.playerid)),"玩家店铺"==e&&(0==this.playershops.length&&this.queryPlayerShopList(),p(".my-shop").data("index",this.playerid)),"玩家售卖区"==e&&this.queryPlayerOnSell("","玩家售卖区"),"玩家求购区"==e&&this.queryPlayerRequireItems("","玩家求购区"))},immediate:!0},class2:{handler(e,a){if(e!=a){if(console.log("监听到变化"+e),"玩家售卖区"==this.class1)return this.queryPlayerOnSell("","玩家售卖区"),p(".head-tool").show(),p(".player-com").show(),p(".my-shop").hide(),void p(".my-shop>header>.back").hide();if("玩家求购区"==this.class1)return this.queryPlayerRequireItems("","玩家求购区"),p(".head-tool").show(),p(".player-com").show(),p(".my-shop").hide(),void p(".my-shop>header>.back").hide()}}}},name:"ShopContent",props:["class1","class2"],data:()=>({pstoreCards:[],pstoreCardsAll:[],gameItems:[],requireItems:[],requireItemsAll:[],ctx:null,playerinfo:{},keyword:"",itemname:"",playershops:[],orderby:"",playerid:"",currentViewPlayer:{},param_filedata:"",param_qq:"",param_shopname:"",displayType:"",page:1,size:10,onsellpage:1,onsellsize:12}),methods:{reload(){"玩家店铺"==this.class1&&(this.page=1,this.playershops=[],this.queryPlayerShopList())},buyNum(){var e=p(".player-order").data("index");let a=this.pstoreCardsAll.filter((a=>a.id==e));var t=a[0].price,s=a[0].stock,i=1*p(".player-order>.window>section>.count>.val>input").val();if(i>s?(i=s,p(".player-order>.window>section>.count>.val>input").val(i)):i<=0&&(i=1,p(".player-order>.window>section>.count>.val>input").val(1)),i>0){var l=t*i;p(".player-order>.window>section>.price>.val>span").text(l)}},initUserData(e){let a={id:e+""};v.post("api/getUserInfo",a).then((a=>{"1"===a.data.respCode&&(this.currentViewPlayer=a.data.data,console.log(this.currentViewPlayer),console.log(this.$store.state.playerinfo),p(".my-shop>header>.left>.head").css("background-image",`url(api/image/${this.currentViewPlayer.avatar}),url('/images/player/head1.jfif')`),p(".my-shop>header>.center>.shop-name").text(this.currentViewPlayer.shopname),p(".my-shop>header>.center>.shopkeeper>.name").text(this.currentViewPlayer.name),p(".my-shop>header>.right>.sales>.s2>span").text(this.currentViewPlayer.trade_money),p(".my-shop>header>.right>.praised>.p2>span").text(this.currentViewPlayer.likecount),p(".my-shop>header>.center>.assets>.point>span").text(this.currentViewPlayer.money),p(".my-shop>header>.center>.assets>.diamond>span").text(this.currentViewPlayer.credit),this.playerinfo.gameentityid==e?(p(".my-shop>header>.center>.shopkeeper>.open-qq").hide(),p(".my-shop>header>.edit").show(),p(".sitems-list>.add").show()):(p(".my-shop>header>.center>.shopkeeper>.open-qq").css("display","inline-block"),p(".my-shop>header>.edit").hide(),p(".sitems-list>.add").hide()))}))},searchItems(){"玩家店铺"==this.class1?(this.page=1,this.playershops=[],this.queryPlayerShopList()):"玩家售卖区"==this.class1?(this.onsellpage=1,this.pstoreCardsAll=[],this.queryPlayerOnSell("",this.class1)):"玩家求购区"==this.class1?this.queryPlayerRequireItems("","玩家求购区"):"物资求购"==this.class1&&(p(".buying>.box>li").show(),this.GenerateBuyingItems())},GenerateBuyingItems(){v.get(`api/getSystemItemByPage?itemname=${this.keyword}&skip=1&take=100`).then((e=>{if("1"===e.data.respCode){let a=e.data.data;this.gameItems=JSON.parse(a),p(".box").scrollTop(0)}}))},handleScroll(e){e.target.scrollTop+e.target.clientHeight>=e.target.scrollHeight&&(this.page++,this.queryPlayerShopList())},handleScrollOnsell(e){if("玩家售卖区"==this.class1&&(this.currentViewPlayer.gameentityid=""),e.target.scrollTop+e.target.clientHeight>=e.target.scrollHeight){this.onsellpage++;let e={id:this.currentViewPlayer.gameentityid+"",itemname:this.keyword+"",class2:this.class2,class1:"",pageIndex:this.onsellpage+"",pageSize:this.onsellsize+"",sort:this.orderby+""};v.post("api/getPlayerOnSell",e).then((e=>{if("1"===e.data.respCode){let t=e.data.data;if("玩家售卖区"==this.class1)for(var a in t.data)this.pstoreCardsAll.push(t.data[a]);else if("我的店铺"!=this.class1&&"玩家店铺"!=this.class1||"出东西"!=this.class2)for(var a in t.data)this.pstoreCards.push(t.data[a]);else this.pstoreCards.push(t.data[a])}}))}},queryPlayerShopList(){this.cancel&&(this.cancel(),this.cancel=null);let e={page:this.page+"",limit:this.size+"",name:this.keyword+"",orderby:this.orderby};v.post("api/getUserShopList",e,{cancelToken:new v.CancelToken((e=>{this.cancel=e}))}).then((e=>{if("1"===e.data.respCode){let t=e.data.data;for(var a in t)this.playershops.push(t[a])}}))},queryPlayerRequireItems(e,a){let t={id:e+"",class2:this.class2,name:this.keyword+"",sort:this.orderby+""};v.post("api/getUserRequire",t).then((e=>{"1"===e.data.respCode&&("玩家求购区"==a?this.requireItemsAll=e.data.data:this.requireItems=e.data.data)}))},queryPlayerOnSell(e,a){let t={id:e+"",itemname:this.keyword+"",class2:this.class2,class1:"",pageIndex:this.onsellpage+"",pageSize:this.onsellsize+"",sort:this.orderby+""};v.post("api/getPlayerOnSell",t).then((e=>{if("1"===e.data.respCode){let t=e.data.data;"玩家售卖区"==a?this.pstoreCardsAll=t.data:this.pstoreCards=t.data}}))},deleteBBcode:e=>e.replace(/([\\[][0-9a-fA-F]{6}[\]])/g,""),arrPStoreToObj(){null==playerStore[playerIndex]&&(playerStore[playerIndex]=[[playerName,steamID]]);for(var e=0;e<playerStore.length;e++){playerStores[e].playerName=playerStores[e][0][0],playerStores[e].playerID=playerStores[e][0][1],playerStores[e].image=players.data[e].image,playerStores[e].shopName=playerStores[e][0][2].split(":")[1],playerStores[e].sales=playerStores[e][0][3].split(":")[1],playerStores[e].praised=playerStores[e][0][4].split(":")[1],playerStores[e].qq=playerStores[e][0][5].split(":")[1],""!=playerStores[e].shopName&&null!=playerStores[e].shopName||(playerStores[e].shopName=playerStores[e].playerName+"的店铺"),""!=playerStores[e].image&&null!=playerStores[e].image||(playerStores[e].image="images/player/head1.jfif");for(var a=1;a<playerStore[e].length;a++){playerStores[e][a].trade=playerStores[e][a][0].split(":")[1],playerStores[e][a].name=playerStores[e][a][1].split(":")[1],playerStores[e][a].id=playerStores[e][a][2].split(":")[1],playerStores[e][a].num=playerStores[e][a][3].split(":")[1],playerStores[e][a].price=playerStores[e][a][4].split(":")[1],playerStores[e][a].quality=playerStores[e][a][5].split(":")[1];var t=queryShopItems(playerStores[e][a].id);t>=0?(playerStores[e][a].image=shop.data[t].image,""!=playerStores[e][a].name&&null!=playerStores[e][a].name||(playerStores[e][a].name=shop.data[t].name)):(""!=playerStores[e][a].name&&null!=playerStores[e][a].name||(playerStores[e][a].name=queryItems(!0,playerStores[e][a].id).name),playerStores[e][a].image="images/alert.png")}}},ready(){s().appContext.config.globalProperties.$bus,p(".buying>.box>.blank>.window>footer>.confirm").click((function(){var a=1*p(".buying .window>section>.quality>.val>input").val(),s=1*p(".buying .window>section>.count>.val>input").val(),i=1*p(".buying .window>section>.price>.val>input").val();if(""==s)return t.Alert("输入的数量不能为空！"),void t.popupCss(25,13);if(""==i)return t.Alert("输入的价格不能为空！"),void t.popupCss(25,13);if(isNaN(s)||isNaN(i))return t.Alert("输入的内容有误！"),void t.popupCss(25,13);if(!isNaN(a)&&1*a>0&&1*s>1)return t.Alert("带品质的物品只能求购一份！"),void t.popupCss(25,13);var l=p(".buying>.box>.blank").data("index");let r=e.gameItems.filter((e=>e.itemname==l));var o=r[0].itemname;null!=r[0].translate&&(o=r[0].translate[16]);var n=r[0].itemname;null!=r[0].icon&&(n=r[0].icon.Value);let d={Itemcount:s+"",Price:i+"",Itemname:r[0].itemname+"",Itemchinese:o+"",Itemquality:a+"",Itemusetime:"",Itemicon:n+"",Itemicontint:r[0].tint+"",Itemgroups:r[0].group+""};v.post("api/postRequire",d).then((e=>{"1"===e.data.respCode?(t.Alert("发布成功！"),t.popupCss(25,13),p(".buying>.box>.blank").fadeOut(50),p(".buying>.box").css("overflow-y","auto"),t.loadUserInfo()):(t.Alert("发布失败！"+e.data.respMsg),t.popupCss(25,13))}))})),p(".player-store").on("click","li",(function(){var a=p(this).data("gameentityid");p(".player-store").hide(),p(".head-tool").hide(),p(".head-tool,.head-tool>.serch,.head-tool>.sort,.head-tool>.refresh,.head-tool>.back").hide(),p(".my-shop").show(),p(".my-shop>header>.back").show(),e.playerid=a,e.queryPlayerOnSell(e.playerid),e.queryPlayerRequireItems(e.playerid),e.initUserData(e.playerid),p(".my-shop>section>nav>.sell").click(),0==p(".sitems-list>li").length&&p(".my-shop>section>nav>div").click()})),p(".buying>.box").on("click","li",(function(){p(".buying>.box>.blank").fadeIn(100),p(".buying>.box").css("overflow-y","hidden");var a=p(".buying>.box").scrollTop();p(".buying>.box>.blank").css("top",a+"px");var s=p(this).data("index");let i=e.gameItems.filter((e=>e.itemname==s));p(".buying>.box>.blank").attr("data-index",i[0].itemname),null==i[0].translate?p(".buying .window>section>header>.name").html(t.HandleItemName(i[0].itemname)):p(".buying .window>section>header>.name").html(t.HandleItemName(i[0].translate[16])),null==i[0].icon?p(".buying .window>section>header>.head>img").attr("src","api/image/"+i[0].itemname+".png"):p(".buying .window>section>header>.head>img").attr("src","api/image/"+i[0].icon.Value+".png"),p(".buying .window>section>div>.val>input").val("")})),p(".buying>.box>.blank>.window>footer>.close").click((function(){p(".buying>.box").css("overflow-y","auto"),p(".buying>.box>.blank").fadeOut(50)})),p(".buying>.box>.blank>.window>header>i").click((function(){p(".buying>.box").css("overflow-y","auto"),p(".buying>.box>.blank").fadeOut(50)})),p(".buying .window>section>div>.val>.add").click((function(){var e=1*p(this).prev().val();e++,p(this).prev().val(e)})),p(".buying .window>section>div>.val>.reduce").click((function(){var e=1*p(this).next().val();--e<=0&&(e=1),p(this).next().val(e)})),p(".buying>.box").on("mouseenter","li",(function(){var a=p(this).data("index");let s=e.gameItems.filter((e=>e.itemname==a));null==s[0].translate?p(".buying>.content>.name").text(t.HandleItemName(s[0].itemname)):p(".buying>.content>.name").text(t.HandleItemName(s[0].translate[16])),null==s[0].icon?p(".buying>.content>.image>img").attr("src","api/image/"+s[0].itemname+".png"):t.$LoadTintImage(p(".buying>.content>.image>img")[0],s[0].icon.Value,s[0].tint);p(".buying>.content>.foot>.price>.min>.val").html("0<span style='color:gray;font-size:0.8em;font-weight:normal;'> / 个</span>"),p(".buying>.content>.foot>.price>.max>.val").html("无限<span style='color:gray;font-size:0.8em;font-weight:normal;'> / 个</span>"),p(".buying>.content>.foot>.desc").html("")})),p(".player-store").on("click","li>.praised",(function(a){a.stopPropagation(),console.log(p(a.currentTarget).children("span"));var s=p(this).parent().data("gameentityid");console.log(s);let i={steamid:s+""};v.post("api/like",i).then((a=>{if("1"===a.data.respCode){t.Alert("点赞成功！"),t.popupCss(25,13);let a=e.playershops.filter((e=>e.gameentityid==s));a[0].password="1",a[0].likecount++}else t.Alert(a.data.respMsg),t.popupCss(25,13)}))})),p(".my-shop>section>nav>.need").mouseenter((function(){"true"!=p(this).data("click")&&p(this).css("color","rgb(221, 36, 36)")})),p(".my-shop>section>nav>.sell").mouseenter((function(){"true"!=p(this).data("click")&&p(this).css("color","green")})),p(".my-shop>section>nav>div").mouseleave((function(){var e=p(this).data("click");null!=e&&(e=e.toString()),"true"!=e&&p(this).css("color","gray")})),p(".my-shop>section>nav>.need").click((function(){p(".my-shop>section>nav>.sell").data("click","false"),p(".my-shop>section>nav>.sell").css({color:"gray","font-weight":"normal","border-bottom":"none"}),p(this).data("click","true"),p(this).css({color:"rgb(221, 36, 36)","font-weight":"bold","border-bottom":"0.2rem solid rgb(221, 36, 36)"}),e.displayType="求购",p(".my-shop").data("index")})),p(".my-shop>section>nav>.sell").click((function(){p(".my-shop>section>nav>.need").data("click","false"),p(".my-shop>section>nav>.need").css({color:"gray","font-weight":"normal","border-bottom":"none"}),p(this).data("click","true"),p(this).css({color:"green","font-weight":"bold","border-bottom":"0.2rem solid green"}),e.displayType="出售",p(".my-shop").data("index")})),p(".sitems-list>.add").mouseenter((function(){p(this).css({opacity:"1","background-color":"rgba(250,240,240,0.7)",transform:"scale(1.04)"}),p(this).find(".add-logo").css({"font-size":"6.5rem"}),p(this).find("span").css({opacity:"1"})})),p(".sitems-list>.add").mouseleave((function(){p(this).css({opacity:"0.9","background-color":"rgba(200, 200, 200, 0.2)",transform:"scale(1)"}),p(this).find(".add-logo").css({"font-size":"8rem"}),p(this).find("span").css({opacity:"0"})}));var e=this;p(".sitems-list>.add").click((function(){"出售"==e.displayType?(t.Confirm("请从仓库里选择你要出售的商品<br>是否立即前往？"),t.popupCss(25,14),p("#alert>.alert>footer>.confirm").click((function(){window.location="/#/userq/warehouse",p("#alert,#alert>.alert").hide()}))):"求购"==e.displayType&&p(".Trade-ware .btn-5").click()}));var a,t=this.ctx.appContext.config.globalProperties;p(".my-shop>header>.center>.shopkeeper>.open-qq").click((function(){p(this).parents(".my-shop").data("index");var a=e.currentViewPlayer.qq;""==a||null==a?(t.Alert("对方暂未设置QQ联系方式，无法发起对话<br>请尝试用其它方式联系该成员"),t.popupCss(28,14)):(t.Alert("已经尝试拉起QQ，如果没有跳转到QQ，请尝试自行联系对方，QQ:"+a),window.open("tencent://message/?uin="+a))})),p(".my-shop>header>.edit").click((function(){p("#alert,#alert>.alert-edit").fadeIn(100),v.get("api/getCurrentUser").then((e=>{if("1"===e.data.respCode){var a=e.data.data,t=a.shopname,s=a.qq,i=a.avatar;p(".shop-name-val").val(t),p(".myself-qq-val").val(s),p("#alert>.alert-edit>section>.left>.head").css("background-image",`url(api/image/${i}),url('/images/player/head1.jfif')`)}else window.location="/#/login"}))})),p("#alert>.alert-edit>header>i").click((function(){p("#alert,#alert>.alert-edit").fadeOut(50)})),p("#alert>.alert-edit>footer>.close").click((function(){p("#alert,#alert>.alert-edit").fadeOut(50)})),p("#alert>.alert-edit>footer>.confirm").click((function(){var a=p(".shop-name-val").val(),s=p(".myself-qq-val").val();if(a.split("").length>10)return void alert("店铺名称最多只能设置10个字符！");if(isNaN(s)||s<0)return void alert("请输入有效的QQ号码！");let i={shopname:a+"",qq:s+"",avatar:e.param_filedata+""};v.post("api/updateUserInfo",i).then((a=>{"1"===a.data.respCode?(t.Alert("修改成功！"),t.popupCss(25,13),e.initUserData(e.playerinfo.gameentityid),"玩家店铺"==e.class1&&(e.page=1,e.playershops=[],e.queryPlayerShopList())):(t.Alert("修改失败！"+a.data.respMsg),t.popupCss(25,13))}))})),p(".shop-name-val, .myself-qq-val").focus((function(){p(this).css("border-bottom","0.2rem solid limegreen")})),p(".shop-name-val, .myself-qq-val").blur((function(){p(this).css("border-bottom","0.2rem solid rgb(88,88,88)")})),p("#chooseImage").on("change",(function(){var a=p(this).val(),t=a.substring(a.lastIndexOf(".")).toLowerCase(),s=window.URL.createObjectURL(this.files[0]);if(!t.match(/.png|.jpg|.jpeg|.jfif|.gif/))return f.error("上传错误,图片格式必须为：png/jpg/jpeg/jfif/gif"),void p(this).val("");if(this.files[0].size>262144)return f.error("只能上传小于256K的图片！"),void p(this).val("");p("#Img").html(""),p("#Img").css("background-image","url("+s+")");var i=new FileReader;i.readAsDataURL(this.files[0]),i.onload=function(){console.log(i.result),e.param_filedata=i.result}})),p(".my-shop>header>.back").click((function(){"玩家店铺"==e.class1?(p(".player-store").show(),p(".my-shop").hide(),p(".head-tool").show(),p(".head-tool>.serch").show(),p(".head-tool>.sort").show(),p(".head-tool>.refresh").show(),p(".head-tool>h1").text("玩家店铺"),p(".head-tool>.serch").show()):"玩家售卖区"!=e.class1&&"玩家求购区"!=e.class1||(p(".head-tool").show(),p(".my-shop").hide(),p(".player-com").show(),"玩家售卖区"==e.class1?(e.displayType="出售",e.playerid=""):"玩家求购区"==nowPage&&(e.displayType="求购",e.playerid=""))})),p(".sitems-list").on("click","li",(function(){var a=p(this).data("itemid");e.playerCom(e.playerid,a)})),p(".player-order>.window>footer>.close").click((function(){p(".player-order").hide()})),p(".player-order>.window>header>i").click((function(){p(".player-order").hide()})),p(".player-com").on("click","li",(function(){var a=p(this).data("itemid"),s=p(this).data("itemid2");if(a==e.playerinfo.gameentityid)"玩家售卖区"==e.class1?(t.Confirm("是否要下架此物品？<br>下架后物品将返还至仓库"),t.popupCss(25,14),p("#alert>.alert>footer>.confirm").unbind("click"),p("#alert>.alert>footer>.confirm").click((function(){var a={id:""+s};v.post("api/TackBackItem",a).then((a=>{"1"===a.data.respCode?(f.success("取回成功"),e.onsellpage=1,e.queryPlayerOnSell("","玩家售卖区")):f.error(a.data.respMsg)})),p("#alert,#alert>.alert").hide()}))):"玩家求购区"==e.class1&&(t.Confirm("是否要撤销求购？<br>撤销后积分将返还至账户"),t.popupCss(25,14),p("#alert>.alert>footer>.confirm").unbind("click"),p("#alert>.alert>footer>.confirm").click((function(){var a={id:""+s};v.post("api/cancelRequire",a).then((a=>{"1"===a.data.respCode?(f.success(a.data.data),e.queryPlayerRequireItems("","玩家求购区")):f.error(a.data.respMsg)})),p("#alert,#alert>.alert").hide()})));else if("玩家售卖区"==e.class1){p(".player-order").fadeIn(100),p(".my-shop").data("index",a),p(".player-order").data("index",s);var i="";let n=e.pstoreCardsAll.filter((e=>e.id==s));i=null==n[0].itemicon?"api/image/"+n[0].name+".png":"api/image/"+n[0].itemicon;var l=n[0].translate,r=n[0].price,o=n[0].stock;p(".player-order>.window>section>header>.head>img").attr("src",i),p(".player-order>.window>section>header>.msg>.name").text(t.HandleItemName(l)),p(".player-order>.window>section>header>.msg>.price>span").text(r),p(".player-order>.window>section>header>.num").text("x"+o),p(".player-order>.window>section>.count>.val>input").val(""),p(".player-order>.window>section>.price>.val>span").text(0),p(".player-order>.window>section>div>.val>.add").unbind("click"),p(".player-order>.window>section>div>.val>.add").click((function(){var e=1*p(".player-order>.window>section>.count>.val>input").val();++e>o&&(e=o),p(".player-order>.window>section>.count>.val>input").val(e);var a=r*e;p(".player-order>.window>section>.price>.val>span").text(a)})),p(".player-order>.window>section>div>.val>.reduce").unbind("click"),p(".player-order>.window>section>div>.val>.reduce").click((function(){var e=1*p(".player-order>.window>section>.count>.val>input").val();--e<=0&&(e=1),p(".player-order>.window>section>.count>.val>input").val(e);var a=r*e;p(".player-order>.window>section>.price>.val>span").text(a)})),p(".player-order>.window>footer>.confirm").unbind("click"),p(".player-order>.window>footer>.confirm").click((function(){var a=1*p(".player-order>.window>section>.count>.val>input").val();if(isNaN(a))return t.Alert("请输入正确的数字！"),void t.popupCss(25,13);if(""==a||0==a)return t.Alert("请填写购买数量！"),void t.popupCss(25,13);var i={id:""+s,count:""+a};v.post("api/buyTradeItem",i).then((a=>{"1"===a.data.respCode?(e.queryPlayerOnSell("","玩家售卖区"),t.Alert("购买成功"),p(".player-order").hide()):f.error(a.data.respMsg)}))}))}else if("玩家求购区"==e.class1){var n=e.requireItemsAll.filter((e=>e.id==s))[0];console.log(n);var d=n.username;l=t.HandleItemName(n.Itemchinese);n.id;o=1*n.Itemcount,r=1*n.Price;n.Itemquality,t.Confirm("是否确认向 <font color='mediumpurple'>"+d+"</font> 提供<br>"+o+" 个 "+l+" ?<br>你可以获得 <font color='orange'>"+r+"</font> 积分奖励"),t.popupCss(27,16),p("#alert>.alert>footer>.confirm").unbind("click"),p("#alert>.alert>footer>.confirm").click((function(){var a={id:""+s};v.post("api/supplyItem",a).then((a=>{"1"===a.data.respCode?(e.queryPlayerOnSell("","玩家求购区"),t.Alert("交易成功")):t.Alert(a.data.respMsg)})),p(".player-order").hide()}))}})),p(".player-com").on("click","li>.content>.shop",(function(a){a.stopPropagation(),p(".head-tool").hide(),p(".player-com").hide(),p(".my-shop").show(),p(".my-shop>header>.back").show(),p(".my-shop>header>.right,.my-shop>header>.edit").css("float","left");var t=p(this).parents(".player-com>li").data("itemid");e.playerid=t,e.queryPlayerOnSell(e.playerid),e.queryPlayerRequireItems(e.playerid),e.initUserData(e.playerid),e.displayType="出售","出售"==e.displayType?p(".my-shop>section>nav>.sell").click():"求购"==e.displayType&&p(".my-shop>section>nav>.need").click()})),p(".player-com").on("mouseenter","li>.content>.shop",(function(e){e.stopPropagation(),p(this).find("span").css({"text-decoration":"underline","font-weight":"bold"})})),p(".player-com").on("mouseleave","li>.content>.shop",(function(e){e.stopPropagation(),p(this).find("span").css({"text-decoration":"none","font-weight":"normal"})})),p(".head-tool>.sort>.s-page").click((function(){"玩家店铺"==e.class1?p(".head-tool>.sort").css({height:"300%","border-radius":"1rem",border:"1px solid white","box-shadow":"0 0 0.4rem rgb(200,200,200)"}).find(".s-page").css("font-weight","bold"):"物资求购"!=e.class1&&"玩家售卖区"!=e.class1&&"玩家求购区"!=e.class1||p(".head-tool>.sort").css({height:"200%","border-radius":"1rem",border:"1px solid white","box-shadow":"0 0 0.4rem rgb(200,200,200)"}).find(".s-page").css("font-weight","bold")})),p(".head-tool>.sort").mouseleave((function(){a=setTimeout((function(){p(".head-tool>.sort").css({height:"50%","border-radius":"2rem",border:"1px solid rgb(180,180,180)","box-shadow":"none"}).find(".s-page").css("font-weight","normal")}),500)})),p(".head-tool>.sort").mouseenter((function(){clearTimeout(a)})),p(".head-tool>.sort>li").click((function(){p(".head-tool>.sort>li").css("background-color","inherit"),p(this).css("background-color","rgb(230,230,230)"),p(".head-tool>.sort>li").data("click","false"),p(this).data("click","true");var a=p(this).text();p(".head-tool>.sort>.s-page").text(a),p(".head-tool>.sort").css({height:"50%","border-radius":"2rem",border:"1px solid rgb(180,180,180)","box-shadow":"none"}).find(".s-page").css("font-weight","normal"),e.orderby=a,e.page=0,e.playershops=[],"玩家店铺"==e.class1?(e.page=1,e.playershops=[],e.queryPlayerShopList()):"玩家售卖区"==e.class1?(e.onsellpage=1,e.pstoreCardsAll=[],e.queryPlayerOnSell("",e.class1)):"玩家求购区"==e.class1?e.queryPlayerRequireItems("","玩家求购区"):"物资求购"==e.class1&&(p(".buying>.box>li").show(),e.GenerateBuyingItems())})),p(".head-tool>.sort>li").hover((function(){var e=p(this).data("click");"false"!=e&&null!=e||p(this).css("background-color","rgb(240,240,240)")}),(function(){var e=p(this).data("click");"false"!=e&&null!=e||p(this).css("background-color","inherit")})),p(".head-tool>.back").click((function(){"物资求购"==nowPage&&(p(".head-tool,.head-tool>.serch,.head-tool>.sort,.head-tool>.refresh,.head-tool>.back").hide(),p(".buying").hide(),p(".my-shop").show())}))},playerCom(e,a){var t=this;var s=t.pstoreCards.filter((e=>e.id==a))[0],i=this.ctx.appContext.config.globalProperties;if(e==t.playerinfo.gameentityid)"出售"==t.displayType?(i.Confirm("是否要下架此物品？<br>下架后物品将返还至仓库"),i.popupCss(25,14),p("#alert>.alert>footer>.confirm").unbind("click"),p("#alert>.alert>footer>.confirm").click((function(){var e={id:""+s.id};v.post("api/TackBackItem",e).then((e=>{"1"===e.data.respCode?(f.success("取回成功"),t.onsellpage=1,t.queryPlayerOnSell(t.playerid)):f.error(e.data.respMsg)})),p("#alert,#alert>.alert").hide()}))):"求购"==t.displayType&&(i.Confirm("是否要撤销求购？<br>撤销后积分将返还至账户"),i.popupCss(25,14),p("#alert>.alert>footer>.confirm").unbind("click"),p("#alert>.alert>footer>.confirm").click((function(){var e={id:""+t.requireItems.filter((e=>e.id==a))[0].id};v.post("api/cancelRequire",e).then((e=>{"1"===e.data.respCode?(f.success(e.data.data),t.queryPlayerRequireItems(t.playerid)):f.error(e.data.respMsg)})),p("#alert,#alert>.alert").hide()})));else if("出售"==t.displayType){p(".player-order").fadeIn(100);var l="";let e=t.pstoreCards.filter((e=>e.id==a));l=null==e[0].itemicon?"api/image/"+e[0].name+".png":"api/image/"+e[0].itemicon;var r=e[0].translate,o=e[0].price,n=e[0].stock;p(".player-order>.window>section>header>.head>img").attr("src",l),p(".player-order>.window>section>header>.msg>.name").text(i.HandleItemName(r)),p(".player-order>.window>section>header>.msg>.price>span").text(o),p(".player-order>.window>section>header>.num").text("x"+n),p(".player-order>.window>section>.count>.val>input").val(""),p(".player-order>.window>section>.price>.val>span").text(0),p(".player-order>.window>section>div>.val>.add").unbind("click"),p(".player-order>.window>section>div>.val>.add").click((function(){var e=1*p(".player-order>.window>section>.count>.val>input").val();++e>n&&(e=n),p(".player-order>.window>section>.count>.val>input").val(e);var a=o*e;p(".player-order>.window>section>.price>.val>span").text(a)})),p(".player-order>.window>section>div>.val>.reduce").unbind("click"),p(".player-order>.window>section>div>.val>.reduce").click((function(){var e=1*p(".player-order>.window>section>.count>.val>input").val();--e<=0&&(e=1),p(".player-order>.window>section>.count>.val>input").val(e);var a=o*e;p(".player-order>.window>section>.price>.val>span").text(a)})),p(".player-order>.window>footer>.confirm").unbind("click"),p(".player-order>.window>footer>.confirm").click((function(){var a=1*p(".player-order>.window>section>.count>.val>input").val();if(isNaN(a))return i.Alert("请输入正确的数字！"),void i.popupCss(25,13);if(""==a||0==a)return i.Alert("请填写购买数量！"),void i.popupCss(25,13);var s={id:""+e[0].id,count:""+a};v.post("api/buyTradeItem",s).then((e=>{"1"===e.data.respCode?(t.queryPlayerOnSell(t.playerid),i.Alert("购买成功"),p(".player-order").hide()):f.error(e.data.respMsg)}))}))}else if("求购"==t.displayType){s=t.requireItems.filter((e=>e.id==a))[0];var d=t.currentViewPlayer.name;r=i.HandleItemName(s.Itemchinese),e=s.id,n=1*s.Itemcount,o=1*s.Price;s.Itemquality,i.Confirm("是否确认向 <font color='mediumpurple'>"+d+"</font> 提供<br>"+n+" 个 "+r+" ?<br>你可以获得 <font color='orange'>"+o+"</font> 积分奖励"),i.popupCss(27,16),p("#alert>.alert>footer>.confirm").unbind("click"),p("#alert>.alert>footer>.confirm").click((function(){var e={id:""+s.id};v.post("api/supplyItem",e).then((e=>{"1"===e.data.respCode?(t.queryPlayerOnSell(t.playerid),i.Alert("交易成功")):i.Alert(e.data.respMsg)})),p(".player-order").hide()}))}}},mounted(){p("#userContainer")[0].addEventListener("scroll",this.handleScroll,!0),p("#player-com")[0].addEventListener("scroll",this.handleScrollOnsell,!0),p("#my-shop")[0].addEventListener("scroll",this.handleScrollOnsell,!0),this.ctx=s(),this.ctx.appContext.config.globalProperties.$bus,this.ready(),this.displayType="出售",this.playerinfo=JSON.parse(localStorage.getItem("userinfo")),this.playerid=this.playerinfo.gameentityid,this.queryPlayerOnSell(this.playerid),this.queryPlayerRequireItems(this.playerid),this.initUserData(this.playerid)}},Re=d();a("data-v-4ce52ef8");const $e={class:"head-tool"},De=r("h1",null,"我的店铺",-1),Ue={class:"serch"},He=c('<div class="sort" data-v-4ce52ef8><div class="s-page" data-v-4ce52ef8>默认排序</div><li class="t1" data-click="true" data-v-4ce52ef8>默认排序</li><li class="t2" data-v-4ce52ef8>等级高到低</li><li class="t3" data-v-4ce52ef8>积分高到低</li><li class="t4" data-v-4ce52ef8>获赞高到低</li><li class="t5" data-v-4ce52ef8>销售额高到低</li></div>',1),ze=r("div",{class:"back",title:"返回"},null,-1),Qe={class:"player-store",id:"userContainer"},Fe=r("header",null,[r("div",{class:"h1"},"排名"),r("div",{class:"h2"},"店铺/玩家 信息"),r("div",{class:"h3"},"销售额"),r("div",{class:"h4"},"获赞")],-1),Ee={class:"empty"},We=r("span",null,[w("没有找到你想"),r("br"),w("搜索的店铺")],-1),Ge={class:"my-shop",id:"my-shop"},Je=c('<header data-v-4ce52ef8><div class="left" data-v-4ce52ef8><div class="head" id="player-head" data-v-4ce52ef8></div></div><div class="center" data-v-4ce52ef8><div class="shop-name" data-v-4ce52ef8>我的店铺</div><div class="vip" data-v-4ce52ef8></div><div class="shopkeeper" data-v-4ce52ef8> 店主： <span class="name" data-v-4ce52ef8></span><span class="open-qq" data-v-4ce52ef8></span></div><div class="assets" data-v-4ce52ef8><span data-v-4ce52ef8>资产：</span><div class="point" data-v-4ce52ef8><i data-v-4ce52ef8></i><span data-v-4ce52ef8>12345</span></div><div class="diamond" data-v-4ce52ef8><i data-v-4ce52ef8></i><span data-v-4ce52ef8>0</span></div></div></div><div class="right" data-v-4ce52ef8><div class="sales" data-v-4ce52ef8><div class="s1" data-v-4ce52ef8>总销售额</div><div class="s2" data-v-4ce52ef8><i data-v-4ce52ef8></i><span data-v-4ce52ef8></span></div></div><div class="praised" data-v-4ce52ef8><div class="p1" data-v-4ce52ef8>获赞数量</div><div class="p2" data-v-4ce52ef8><i data-v-4ce52ef8></i><span data-v-4ce52ef8></span></div></div></div><div class="edit" data-v-4ce52ef8> 编辑<br data-v-4ce52ef8>资料 </div><div class="back" title="返回" data-v-4ce52ef8></div></header>',1),Ye=r("nav",null,[r("div",{class:"sell","data-click":"true"},"出东西"),r("div",{class:"need"},"收东西")],-1),Ke={class:"sitems-list"},Xe=r("div",{class:"add"},[r("div",{class:"add-logo"},"+"),r("span",null,"添加物品")],-1),Ze={key:2,class:"empty",style:{display:"block"}},ea=r("div",{class:"image"},null,-1),aa=r("span",null,[w("该玩家暂时没有"),r("br"),w("需要出售的东西")],-1),ta={key:3,class:"empty",style:{display:"block"}},sa=r("div",{class:"image"},null,-1),ia=r("span",null,[w("该玩家暂时没有"),r("br"),w("需要求购的东西")],-1),la={class:"player-com",id:"player-com"},ra={key:2,class:"empty"},oa=r("span",null,[w("没有找到你想"),r("br"),w("搜索的物品")],-1),na={class:"buying"},da=r("div",{class:"content",style:{"overflow-y":"hidden"}},[r("div",{class:"image"},[r("img",{src:"images/alert.png"})]),r("div",{class:"name"}),r("div",{class:"foot"},[r("div",{class:"price"},[r("div",{class:"tit"},"建议求购价："),r("div",{class:"min"},[r("span",{class:"tit"},"最低价："),r("i"),r("span",{class:"val"})]),r("div",{class:"max"},[r("span",{class:"tit"},"最高价："),r("i"),r("span",{class:"val"})])]),r("div",{class:"desc"}," 请将鼠标移入右边的物品图标以查看详情 ")])],-1),ca={class:"box",style:{position:"relative"}},pa={class:"image"},ha=r("div",{class:"blank"},[r("div",{class:"window"},[r("div",{class:"fil"}),r("header",null,[r("span",null,"求购发布"),r("i",null,"✘")]),r("section",null,[r("header",null,[r("div",{class:"head"},[r("img",{src:Be})]),r("div",{class:"name"},"南瓜灯")]),r("div",{class:"quality"},[r("span",{class:"tit"},"品质："),r("div",{class:"val"},[r("div",{class:"reduce"},"-"),r("input",{type:"text",placeholder:"请输入物品的品质",onkeyup:"this.value=this.value.replace(/[^\\d]|^[0]/g,'')"}),r("div",{class:"add"},"+")])]),r("div",{class:"count"},[r("span",{class:"tit"},"数量："),r("div",{class:"val"},[r("div",{class:"reduce"},"-"),r("input",{type:"text",placeholder:"请输入求购的数量",onkeyup:"this.value=this.value.replace(/[^\\d]|^[0]/g,'')"}),r("div",{class:"add"},"+")])]),r("div",{class:"price"},[r("span",{class:"tit"},"价格："),r("div",{class:"val"},[r("div",{class:"icon"}),r("input",{type:"text",placeholder:"请输入你想支付的价格",onkeyup:"this.value=this.value.replace(/[^\\d]|^[0]/g,'')"})])]),r("p",null," 说明：如果物品没有品质，将自动忽略。 ")]),r("footer",null,[r("div",{class:"close"},"取消"),r("div",{class:"confirm"},"确认发布")])])],-1),ma=r("div",{class:"empty"},[r("span",null,[w("没有找到你想"),r("br"),w("搜索的店铺")])],-1),ua={class:"player-order"},ya={class:"window"},ga=r("div",{class:"fil"},null,-1),va=r("header",null,[r("span",null,"订单确认"),r("i",null,"✘")],-1),fa=r("header",null,[r("div",{class:"head"},[r("img",{src:Be})]),r("div",{class:"msg"},[r("div",{class:"name"},"南瓜灯"),r("div",{class:"price"},[r("i"),r("span",null,"12345")])]),r("div",{class:"num"},"x12")],-1),ba={class:"count"},wa=r("span",{class:"tit"},"购买数量：",-1),ka={class:"val"},xa=r("div",{class:"reduce"},"-",-1),qa=r("div",{class:"add"},"+",-1),Ia=r("div",{class:"price"},[r("span",{class:"tit"},"合计价格："),r("div",{class:"val"},[r("i"),r("span",null,"0")])],-1),Ca=r("footer",null,[r("div",{class:"close"},"取消"),r("div",{class:"confirm"},"确认付款")],-1);t();const Pa=Re(((e,a,t,s,o,d)=>{const c=h("TransPStoreList"),p=h("TransPstoreCard"),v=h("TransRequireCard"),f=h("TransPStoreItem"),w=h("TransPRequireItem");return i(),l("section",null,[r("header",$e,[De,r("div",Ue,[y(r("input",{type:"text",class:"name-id","onUpdate:modelValue":a[1]||(a[1]=e=>o.keyword=e),placeholder:"请输入玩家或店铺名称",onInput:a[2]||(a[2]=e=>d.searchItems())},null,544),[[b,o.keyword]]),r("div",{class:"btn",onClick:a[3]||(a[3]=e=>d.searchItems())})]),He,r("div",{class:"refresh",title:"刷新",onClick:a[4]||(a[4]=e=>d.reload())}),ze]),r("div",Qe,[Fe,(i(!0),l(m,null,u(o.playershops,((e,a)=>(i(),l(c,{key:e.id,item:e,index:a},null,8,["item","index"])))),128)),y(r("div",Ee,[We],512),[[g,null==o.playershops||o.playershops.length<=0]])]),r("div",Ge,[Je,r("section",null,[Ye,r("ul",Ke,["出售"==o.displayType?(i(!0),l(m,{key:0},u(o.pstoreCards,((e,a)=>(i(),l(p,{key:e.id,item:e,index:a},null,8,["item","index"])))),128)):n("",!0),"求购"==o.displayType?(i(!0),l(m,{key:1},u(o.requireItems,((e,a)=>(i(),l(v,{key:e.id,item:e,index:a},null,8,["item","index"])))),128)):n("",!0),Xe,"出售"==o.displayType&&(null==o.pstoreCards||o.pstoreCards.length<=0)&&o.currentViewPlayer.id!=e.$store.state.playerinfo.id?(i(),l("div",Ze,[ea,aa])):n("",!0),"求购"==o.displayType&&(null==o.requireItems||o.requireItems.length<=0)&&o.currentViewPlayer.id!=e.$store.state.playerinfo.id?(i(),l("div",ta,[sa,ia])):n("",!0)])])]),r("div",la,["玩家售卖区"==t.class1?(i(!0),l(m,{key:0},u(o.pstoreCardsAll,((e,a)=>(i(),l(f,{key:e.id,item:e,index:a},null,8,["item","index"])))),128)):n("",!0),"玩家求购区"==t.class1?(i(!0),l(m,{key:1},u(o.requireItemsAll,((e,a)=>(i(),l(w,{key:e.id,item:e,index:a},null,8,["item","index"])))),128)):n("",!0),"玩家售卖区"==t.class1&&0===o.pstoreCardsAll.length||"玩家求购区"==t.class1&&0===o.requireItemsAll.length?(i(),l("div",ra,[oa])):n("",!0)]),r("div",na,[da,r("div",ca,[(i(!0),l(m,null,u(o.gameItems,((a,t)=>(i(),l("li",{class:"game-items",key:a.itemname,"data-index":a.itemname},[r("div",pa,[null!=a.icon?(i(),l("img",{key:0,src:"404",onError:t=>e.$LoadTintImage(t.target,a.icon.Value,a.tint)},null,40,["onError"])):(i(),l("img",{key:1,src:"api/image/"+a.itemname+".png"},null,8,["src"]))])],8,["data-index"])))),128)),ha,ma])]),r("div",ua,[r("div",ya,[ga,va,r("section",null,[fa,r("div",ba,[wa,r("div",ka,[xa,r("input",{type:"text",placeholder:"请输入购买的数量",onkeyup:"this.value=this.value.replace(/[^\\d]|^[0]/g,'')",onInput:a[5]||(a[5]=(...e)=>d.buyNum&&d.buyNum(...e))},null,32),qa])]),Ia]),Ca])])])}));Le.render=Pa,Le.__scopeId="data-v-4ce52ef8";const Sa={data:()=>({}),name:"MyArticle",components:{"shop-menu":_,"shop-content":Le},props:["itemMenu","class1","class2"]},Ta=d()(((e,a,t,s,o,n)=>{const d=h("shop-menu"),c=h("shop-content");return i(),l("article",null,[r(d,{class1:t.class1,class2:t.class2,itemMenu:t.itemMenu},null,8,["class1","class2","itemMenu"]),r(c,{class1:t.class1,class2:t.class2},null,8,["class1","class2"])])}));Sa.render=Ta,Sa.__scopeId="data-v-155d1f73";const Aa={name:"LeftContainerBox",components:{"my-header":x,"my-article":Sa},props:["itemMenu","class1","class2"]},Ma=d();a("data-v-334e3acb");const Na=r("article",{style:{display:"none"}},[r("li",{class:"loading"},[w("正在加载中"),r("i")])],-1);t();const _a=Ma(((e,a,t,s,o,n)=>{const d=h("my-header"),c=h("my-article");return i(),l("main",null,[r(d),Na,r(c,{itemMenu:t.itemMenu,class1:t.class1,class2:t.class2},null,8,["itemMenu","class1","class2"])])}));Aa.render=_a,Aa.__scopeId="data-v-334e3acb";const Oa={name:"RightMenuBox",data:()=>({playerinfo:{}}),mounted(){this.playerinfo=JSON.parse(localStorage.getItem("userinfo"));var e=s().appContext.config.globalProperties;p("aside>header>.more").click((function(){p("aside>header").data("more")?(p("aside>header").css("height","7.2em"),p("aside>header").data("more",!1),p("aside>header>li,aside>header>ul").slideUp(200),p("aside>header>.rech").hide(),p(this).text("显示更多▼")):(p("aside>header").css("height","84%"),p("aside>header").data("more",!0),p("aside>header>li,aside>header>ul").slideDown(100),p("aside>header>.rech").show(200),p(this).text("隐藏列表▲"))})),p("aside>header>.btn-1").click((function(){p("aside>header>.btn-2").css({background:"rgba(255,255,255,0.5)","border-bottom":"1px solid rgb(230,230,230)"}),p(this).css({background:"rgba(255,255,255,0.8)","border-bottom":"2px solid rgb(160,160,200)"}),p(".aside-profile>.page2").hide(),p(".aside-profile>.page1").show()})),p("aside>header>.btn-2").click((function(){p("aside>header>.btn-1").css({background:"rgba(255,255,255,0.5)","border-bottom":"1px solid rgb(230,230,230)"}),p(this).css({background:"rgba(255,255,255,0.8)","border-bottom":"2px solid rgb(160,160,200)"}),p(".aside-profile>.page1").hide(),p(".aside-profile>.page2").show()})),p("aside>header>.rech").click((function(){Alert("请联系服主充值会员或咨询相关内容"),popupCss(26,13)})),p(".aside-profile>.page2>.tit").click((function(){p(this).data("num");var e=p(this).data("show");"true"==e||1==e?(p(this).find("i").css("transform","rotate(-90deg)"),p(this).next().find(".Customer").slideUp(200),p(this).data("show","false")):(p(this).find("i").css("transform","rotate(0deg)"),p(this).next().find(".Customer").slideDown(200),p(this).data("show","true"))})),p(".Customer").click((function(){var a=p(this).data("qq");""==a||null==a?(e.Alert("对方暂未设置QQ联系方式，无法发起对话<br>请尝试用其它方式联系该成员"),e.popupCss(28,14)):window.open("tencent://message/?uin="+a)}))}},Va=d();a("data-v-5dc753f8");const ja={"data-more":"false"},Ba={class:"player-key"},La={class:"name"},Ra=r("br",null,null,-1),$a={class:"level"},Da={class:"player-steamId"},Ua=w("steamID:"),Ha=r("div",{class:"more"},"显示更多▼",-1),za=r("li",{class:"btn-1"},"基础信息",-1),Qa=r("li",{class:"btn-2"},"专属客服",-1),Fa={class:"aside-profile"},Ea={class:"page1"},Wa={class:"my-jf"},Ga=w("我的积分："),Ja={class:"my-zs"},Ya=w("我的钻石："),Ka={class:"my-ol"},Xa=w("在线时长："),Za=w(" 小时"),et={class:"my-sf"},at=w(" 个人身份："),tt={class:"my-yh"},st=w("购物优惠："),it=w(" %"),lt={class:"all-cz"},rt=w("总充值："),ot=w(" ¥"),nt={class:"all-xf"},dt=w("总消费："),ct=w(" 钻石"),pt=r("p",{class:"all-qd"},[w("总签到："),r("span",null,"0"),w(" 天")],-1),ht=c('<div class="page2" data-v-5dc753f8><div class="tit" data-num="1" data-show="true" data-v-5dc753f8><i data-v-5dc753f8></i> 服务器管理员</div><ul class="ul-1" data-v-5dc753f8><li class="Customer" data-v-5dc753f8><div class="head" data-v-5dc753f8></div><div class="msg" data-v-5dc753f8><div class="name" data-v-5dc753f8>暂无人员</div><div class="intro" data-v-5dc753f8>请联系服主设置</div></div></li></ul><div class="tit" data-num="2" data-show="true" data-v-5dc753f8><i data-v-5dc753f8></i> 相关制作人员（3）</div><ul class="ul-2" data-v-5dc753f8><li class="Customer" data-qq="260663027" data-v-5dc753f8><div class="head" style="background-image:url(images/player/xzs.jpg);" data-v-5dc753f8></div><div class="msg" data-v-5dc753f8><div class="name" data-v-5dc753f8>奶娃子的小助手</div><div class="intro" data-v-5dc753f8>NaiwaziBot作者</div></div></li><li class="Customer" data-qq="960269073" data-v-5dc753f8><div class="head" style="background-image:url(images/player/haiou.jpg);" data-v-5dc753f8></div><div class="msg" data-v-5dc753f8><div class="name" data-v-5dc753f8>海鸥令主</div><div class="intro" data-v-5dc753f8>后端支持</div></div></li><li class="Customer" data-qq="" data-v-5dc753f8><div class="head" style="background-image:url(images/player/muwu.jpg);" data-v-5dc753f8></div><div class="msg" data-v-5dc753f8><div class="name" data-v-5dc753f8>彩色の小木屋</div><div class="intro" data-v-5dc753f8>网页设计</div></div></li></ul></div>',1),mt=r("div",{class:"rech"}," 专属会员卡 ",-1),ut={class:"Main-menu"},yt=r("span",{class:"cn"},"积分商城",-1),gt=r("br",null,null,-1),vt=r("span",{class:"en"},"Points Store",-1),ft=r("span",{class:"cn"},"个人仓库",-1),bt=r("br",null,null,-1),wt=r("span",{class:"en"},"Warehouse",-1),kt=r("span",{class:"cn"},"交易中心",-1),xt=r("br",null,null,-1),qt=r("span",{class:"en"},"Transaction",-1),It=r("span",{class:"cn"},"活动礼包",-1),Ct=r("br",null,null,-1),Pt=r("span",{class:"en"},"Activity",-1),St={class:"min"},Tt=r("span",null,"签到",-1),At=r("div",{class:"m2"},[r("span",null,"兑换")],-1),Mt=r("div",{class:"m3"},[r("span",null,"公告")],-1),Nt=r("div",{class:"m4"},[r("span",null,"排行")],-1);t();const _t=Va(((e,a,t,s,n,d)=>{const c=h("router-link");return i(),l("aside",null,[r("header",ja,[r("div",{class:"player-head",style:{"background-image":`url(api/image/${n.playerinfo.avatar}),url('/images/player/head1.jfif')`}},null,4),r("div",Ba,[r("span",La,o(n.playerinfo.name),1),Ra,r("span",$a,"lv. "+o(n.playerinfo.level),1)]),r("div",Da,[Ua,r("span",null,o(n.playerinfo.gameentityid),1)]),Ha,za,Qa,r("ul",Fa,[r("div",Ea,[r("p",Wa,[Ga,r("span",null,o(n.playerinfo.money),1)]),r("p",Ja,[Ya,r("span",null,o(n.playerinfo.credit),1)]),r("p",Ka,[Xa,r("span",null,o((n.playerinfo.online_time/3600).toFixed(2)),1),Za]),r("p",et,[at,r("span",null,o("1"==n.playerinfo.type?"管理员":1*n.playerinfo.vipdiscount>0?"VIP用户":"普通用户"),1)]),r("p",tt,[st,r("span",null,o(n.playerinfo.vipdiscount),1),it]),r("p",lt,[rt,r("span",null,o(n.playerinfo.creditcharge),1),ot]),r("p",nt,[dt,r("span",null,o(n.playerinfo.creditcost),1),ct]),pt]),ht]),mt]),r("ul",ut,[r(c,{custom:"",to:"/userq/shop"},{default:Va((({navigate:e,isActive:a})=>[r("li",{class:["menu-1",{active:a}],onClick:e},[yt,gt,vt],10,["onClick"])])),_:1}),r(c,{custom:"",to:"/userq/warehouse"},{default:Va((({navigate:e,isActive:a})=>[r("li",{class:["menu-2",{active:a}],onClick:e},[ft,bt,wt],10,["onClick"])])),_:1}),r(c,{custom:"",to:"/userq/trans"},{default:Va((({navigate:e,isActive:a})=>[r("li",{class:["menu-3",{active:a}],onClick:e},[kt,xt,qt],10,["onClick"])])),_:1}),r(c,{custom:"",to:"/userq/activity"},{default:Va((({navigate:e,isActive:a})=>[r("li",{class:["menu-4",{active:a}],onClick:e},[It,Ct,Pt],10,["onClick"])])),_:1}),r("div",St,[r(c,{custom:"",to:"/userq/activity?tosign"},{default:Va((({navigate:e,isActive:a})=>[r("div",{class:"m1",onClick:e},[Tt],8,["onClick"])])),_:1}),At,Mt,Nt])])])}));Oa.render=_t,Oa.__scopeId="data-v-5dc753f8";const Ot={components:{"left-container-box":Aa,"right-container-box":Oa,"alert-common":e},name:"TransMainContainer",data:()=>({couProps:{},class1:"我的店铺",class2:"",itemMenu:[{category:"我的店铺",items:[]},{category:"玩家店铺",items:[]},{category:"玩家售卖区",items:[{name:"全部",data:""},{name:"武器/弹药",data:"Ammo/Weapons"},{name:"防具",data:"Armor"},{name:"工具/陷阱",data:"Tools/Traps"},{name:"食物/炊具",data:"Food/Cooking"},{name:"书籍",data:"Books"},{name:"化学品",data:"Chemicals"},{name:"模组",data:"Mods"},{name:"资源",data:"Resources"},{name:"科学",data:"Science"},{name:"医疗",data:"Medical"},{name:"装饰/杂项",data:"Decor/Miscellaneous"}]},{category:"玩家求购区",items:[{name:"全部",data:""},{name:"武器/弹药",data:"Ammo/Weapons"},{name:"防具",data:"Armor"},{name:"工具/陷阱",data:"Tools/Traps"},{name:"食物/炊具",data:"Food/Cooking"},{name:"书籍",data:"Books"},{name:"化学品",data:"Chemicals"},{name:"模组",data:"Mods"},{name:"资源",data:"Resources"},{name:"科学",data:"Science"},{name:"医疗",data:"Medical"},{name:"装饰/杂项",data:"Decor/Miscellaneous"}]},{category:"物资求购",items:[]}]}),methods:{setclass1(e){this.class1=e},setclass2(e){this.class2=e},adaptive(){var e,a;e=p(window).width(),a=p(window).height(),p("html").css("font-size",e/80+"px"),180!==window.orientation&&0!==window.orientation||(p("html").css("font-size",a/80+"px"),console.log("竖屏状态！---Width="+e+"---Height="+a+"----Box-Height="+p("#shop").height()+"----Box-Width="+p("#shop").width()),p("#shop").css({width:a+"px",height:e+"px",transform:"translateY("+a+"px) rotate(-90deg)"})),90!==window.orientation&&-90!==window.orientation||(console.log("横屏状态！---Width="+e+"---Height="+a),p("#shop").css({width:e+"px",height:a+"px",transform:"translateY(0px) rotate(0deg)"}));var t=p(".test").height(),s=p(".game-head").height(),i=p("main>header").height(),l=p("main>header>.Diamond").height(),r=p(".head-tool>.display>li").height(),o=p(".items-box>.items>header").height(),n=p(".items-box>.items>header>i").height(),d=p(".items-box>.items>footer").height(),c=p(".items-details").height()-p(".spxq").height()-20,h=p(".ware-details").height()-p(".ware-details>header").height()-p(".ware-details>section").height()-12,m=p(".terr-shop").height()-p(".terr-shop>header").height()-2,u=p(".order-record").height()-p(".order-record>header").height()-2,y=p(".page-items").height()-p(".page-items>header").height()-2,g=p(".work-recipe").height(),v=g-p(".work-recipe>header").height()-1,f=p(".work-page").height()-g-8,b=p(".craftable-items").height(),w=p(".my-shop").height(),k=p(".my-shop>header").height();p(".header-tool").height();var x=w-k-0,q=x-p(".my-shop>section>nav").height()-20,I=p(".buying>.content").height()-p(".buying>.content>.image").height()-p(".buying>.content>.name").height()-10,C=I-p(".buying>.content>.foot>.price").height()-50,P=p(".Act-qd>.left>li>.day").height(),S=p(".Act-qd>.left>li>.name").height(),T=p(".Act-qd>.right>li>.day").height(),A=p(".Act-qd>.right>li>.name").height(),M=p(".Main-menu>.min>div").width();p(".test").css("line-height",t+"px"),p("main>header>.game-head,main>header>.seting>.set,main>header>.seting>.skin,main>header>.seting>.mail").css("width",s+"px"),p("main>header>.Diamond>i,main>header>.Point>i").css("width",s+"px"),p("main>header").css("line-height",i+"px"),p("main>header>.Diamond,main>header>.Point").css("line-height",l+"px"),p(".head-tool>.display>li").css({"line-height":r+"px"}),p(".items-box>.items>header").css({"line-height":o+"px"}),p(".items-box>.items>header>i,.items-box>.items>header>.follow,.items-box>.items>footer>.active").css({"line-height":n+"px"}),p(".items-box>.items>footer").css({"line-height":d+"px"}),p(".items-details>.bottom").css({height:c+"px"}),p(".ware-details>footer").css({height:h+"px"}),p(".terr-shop>section").css({height:m+"px"}),p(".order-record>section").css({height:u+"px"}),p(".page-items>section").css({height:y+"px"}),p(".work-recipe>.left,.work-recipe>.right").css({height:v+"px"}),p(".work-desc,.work-page>.slots").css({height:f+"px"}),p(".craftable-items").css({"line-height":b+"px"}),p(".craftable-items>i").css({width:b+"px"}),p(".my-shop>section").css({height:x+"px"}),p(".my-shop .sitems-list").css({height:q+"px"}),p(".buying>.content>.foot").css({height:I+"px"}),p(".buying>.content>.foot>.desc").css({height:C+"px"}),p(".Act-qd>.left>li>.day").css({"line-height":P+"px"}),p(".Act-qd>.left>li>.name").css({"line-height":S+"px"}),p(".Act-qd>.right>li>.day").css({"line-height":T+"px"}),p(".Act-qd>.right>li>.name").css({"line-height":A+"px"}),p(".Main-menu>.min>div").css("height",1*M+"px")},ready(){var e=this;setTimeout((function(){e.adaptive()}),50),p(window).resize((function(){e.adaptive()})),p(window).on("orientationchange",(function(){e.adaptive()})),p("html").mousemove((function(){e.adaptive()})),p("#alert>.alert>footer>.close").click((function(){p("#alert>.alert>section>p").html(""),p("#alert,#alert>div").hide()})),p("#alert>.alert>header>i").click((function(){p("#alert>.alert>footer>.close").click()})),p(".alert-buy>footer>.close").click((function(){p("#alert,#alert>div").hide()})),p(".alert-buy>header>i").click((function(){p(".alert-buy>footer>.close").click()})),p("#alert>.alert-award>footer>div").click((function(){p("#alert,#alert>div").hide()})),p("#alert>.alert-award>header>i").click((function(){p("#alert,#alert>div").hide()}))}},mounted(){this.ready();const e=s().appContext.config.globalProperties.$bus;e.on("setclass1",(e=>{this.class1=e})),e.on("setclass2",(e=>{this.class2=e}))}},Vt={id:"box"};Ot.render=function(e,a,t,s,o,n){const d=h("alert-common"),c=h("left-container-box"),p=h("right-container-box");return i(),l("div",Vt,[r(d,{couProps:o.couProps},null,8,["couProps"]),r(c,{itemMenu:o.itemMenu,class1:o.class1,class2:o.class2,onSetclass1:n.setclass1,onSetclass2:n.setclass2},null,8,["itemMenu","class1","class2","onSetclass1","onSetclass2"]),r(p)])};export default Ot;
